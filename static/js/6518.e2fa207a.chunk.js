(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[6518],{29032:function(e,t,n){"use strict";n.d(t,{H:function(){return p}});n(72791);var r=n(51802),a=(n(25646),n(15861)),i=n(64687),o=n.n(i),c=n(31243),l=function(){var e=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t),e.prev=2,e.next=5,c.Z.post("http://localhost:6633/api/upload",n,{headers:{"content-type":"multipart/form-data"}});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),s=n(61134),u=n(75970),d=n(61800),f=n(80184),m={options:["inline","blockType","list","link","embedded","emoji","image","remove","history"],blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5"]},image:{urlEnabled:!1,uploadEnabled:!0,alignmentEnabled:!1,uploadCallback:function(e){return l(e)},previewImage:!1,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:{present:!0,mandatory:!0}}},p=function(e){var t=e.name,n=(0,s.Gc)(),a=n.control,i=n.formState.errors;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Qr,{name:t,control:a,render:function(e){var t=e.field,n=t.value,a=t.onChange;return(0,f.jsx)(r.Editor,{editorState:n,wrapperClassName:"wrapper-class",editorClassName:"editor-class",toolbarClassName:"toolbar-class",onEditorStateChange:a,toolbar:m})}}),(0,f.jsx)(u.B,{errors:i,name:t,render:function(e){var t=e.message;return(0,f.jsx)(d.d,{color:"red",children:t})}})]})}},61800:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r,a=n(1413),i=n(30168),o=n(17691),c=n(30407),l=o.ZP.p(r||(r=(0,i.Z)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  line-height: 1.5;\n  color: ",';\n  text-align: justify;\n\n  @media screen and (min-width: 980px) {\n    line-height: 1.6;\n  } \n&:empty{\n &::after {\n  white-space: break-spaces;\n  content: " "\n}}\n  \n  ',";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ","\n"])),(function(e){return e.theme.fonts.main}),(function(e){return e.theme.fontWeights.regular}),(function(e){return e.theme.fontSizes.main.body}),(function(e){return e.theme.colors.black}),c.$_,c.Dh,c.bK,c.GQ,c.eC,c.Oq,c.Cg,c.FK,c.AF,c.cp),s=n(80184),u=function(e){return(0,s.jsx)(l,(0,a.Z)({},e))}},35297:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r,a=n(1413),i=n(30168),o=n(17691),c=n(30407),l=(0,o.ZP)("section")((0,o.iv)(r||(r=(0,i.Z)(["\n  min-height:45vh;\n    padding-bottom: 100px;\n    @media screen and (min-width: 980px) {\n      padding-bottom: 128px;\n    }\n  "]))),c.$_,c.Dh,c.bK,c.GQ,c.eC,c.Oq,c.Cg,c.FK,c.AF,c.cp),s=n(80184),u=function(e){return(0,s.jsx)(l,(0,a.Z)({},e))}},26518:function(e,t,n){"use strict";n.r(t),n.d(t,{Research:function(){return E}});var r=n(1413),a=n(35297),i=n(199),o=n.n(i),c=n(61134),l=n(72010),s=n(89055),u=n(1701),d=n.n(u),f=n(72791),m=n(15861),p=n(64687),h=n.n(p),g=n(96403),y=n(73418),v=n(85439),b=n(31243);var x=n(29032),w=n(80184),k={content:l.EditorState.createEmpty()},E=function(){var e=(0,c.cI)({defaultValues:k}),t=(0,v.a)({queryKey:["researchAdmin"],queryFn:function(){var e=(0,m.Z)(h().mark((function e(t){var n,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,e.next=3,b.Z.get("/api/admin/research",{withCredentials:!0,signal:n});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1}),n=t.data,i=function(e){var t=(0,g.NL)();return(0,y.D)({mutationFn:function(){var t=(0,m.Z)(h().mark((function t(n){var r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.Z.put("/api/admin/research/".concat(e),n,{withCredentials:!0});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuccess:function(e){t.invalidateQueries({queryKey:["researchAdmin"]})},retry:!1})}(null===n||void 0===n?void 0:n.research.id);(0,f.useEffect)((function(){if(n){var t=(0,r.Z)((0,r.Z)({},n.research.data),{},{content:l.EditorState.createWithContent(l.ContentState.createFromBlockArray(d()(n.research.data.content).contentBlocks))});e.reset((0,r.Z)({},t))}}),[e,n]);return(0,w.jsx)("main",{children:(0,w.jsx)(a.Z,{children:(0,w.jsx)(s.x,{maxWidth:"960px",m:"0 auto",boxShadow:"regular",children:(0,w.jsx)(s.x,{p:[null,11],px:[6,null],py:[8,null],children:(0,w.jsx)(c.RV,(0,r.Z)((0,r.Z)({},e),{},{children:(0,w.jsxs)("form",{onSubmit:e.handleSubmit((function(t){var n=(0,r.Z)((0,r.Z)({},t),{},{content:o()((0,l.convertToRaw)(t.content.getCurrentContent()))});if(n.content.length<=30)e.setError("content",{type:"custom",message:"Content must be more than 30 characters long"});else{var a=new FormData;for(var c in n)a.append(c,n[c]);i.mutate(n)}})),children:[(0,w.jsxs)("section",{children:[(0,w.jsx)("label",{children:"DraftJS"}),(0,w.jsx)(x.H,{name:"content"})]}),(0,w.jsx)("button",{type:"submit",children:"submit"})]})}))})})})})}},75970:function(e,t,n){"use strict";n.d(t,{B:function(){return i}});var r=n(72791),a=n(61134),i=function(e){var t=e.as,n=e.errors,i=e.name,o=e.message,c=e.render,l=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(a[n]=e[n]);return a}(e,["as","errors","name","message","render"]),s=(0,a.Gc)(),u=(0,a.U2)(n||s.formState.errors,i);if(!u)return null;var d=u.message,f=u.types,m=Object.assign({},l,{children:d||o});return r.isValidElement(t)?r.cloneElement(t,m):c?c({message:d||o,messages:f}):r.createElement(t||r.Fragment,m)}},1701:function(e,t,n){window,e.exports=function(e,t){return a={},n.m=r=[function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=function(e){var t,n=null;return document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n},o=function(e,t,n){var r,i=e.textContent;return""===i.trim()?{chunk:(r=n,{text:" ",inlines:[new a.OrderedSet],entities:[r],blocks:[]})}:{chunk:{text:i,inlines:Array(i.length).fill(t),entities:Array(i.length).fill(n),blocks:[]}}},c=function(){return{text:"\n",inlines:[new a.OrderedSet],entities:new Array(1),blocks:[]}},l=function(){return{text:"",inlines:[],entities:[],blocks:[]}},s=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new a.Map({})}]}},u=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new a.Map({})}]}},d=function(e){return{text:"\r ",inlines:[new a.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new a.Map({})}]}},f=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},m=new a.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),p={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function h(e){return e.style.textAlign?new a.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new a.Map({"margin-left":e.style.marginLeft}):void 0}var g=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var n={};t=e.dataset&&void 0!==e.dataset.mention?(n.url=e.href,n.text=e.innerHTML,n.value=e.dataset.value,r.Entity.__create("MENTION","IMMUTABLE",n)):(n.url=e.getAttribute&&e.getAttribute("href")||e.href,n.title=e.innerHTML,n.targetOption=e.target,r.Entity.__create("LINK","MUTABLE",n))}return t};n.d(t,"default",(function(){return w}));var y=" ",v=new RegExp("&nbsp;","g"),b=!0;function x(e,t,n,a,i,y){var v=e.nodeName.toLowerCase();if(y){var w=y(v,e);if(w){var k=r.Entity.__create(w.type,w.mutability,w.data||{});return{chunk:d(k)}}}if("#text"===v&&"\n"!==e.textContent)return o(e,t,i);if("br"===v)return{chunk:c()};if("img"===v&&e instanceof HTMLImageElement){var E={};E.src=e.getAttribute&&e.getAttribute("src")||e.src,E.alt=e.alt,E.height=e.style.height,E.width=e.style.width,e.style.float&&(E.alignment=e.style.float);var M=r.Entity.__create("IMAGE","MUTABLE",E);return{chunk:d(M)}}if("video"===v&&e instanceof HTMLVideoElement){var S={};S.src=e.getAttribute&&e.getAttribute("src")||e.src,S.alt=e.alt,S.height=e.style.height,S.width=e.style.width,e.style.float&&(S.alignment=e.style.float);var j=r.Entity.__create("VIDEO","MUTABLE",S);return{chunk:d(j)}}if("iframe"===v&&e instanceof HTMLIFrameElement){var C={};C.src=e.getAttribute&&e.getAttribute("src")||e.src,C.height=e.height,C.width=e.width;var O=r.Entity.__create("EMBEDDED_LINK","MUTABLE",C);return{chunk:d(O)}}var A,T=function(e,t){var n=m.filter((function(n){return n.element===e&&(!n.wrapper||n.wrapper===t)||n.wrapper===e||n.aliasedElements&&-1<n.aliasedElements.indexOf(e)})).keySeq().toSet().toArray();if(1===n.length)return n[0]}(v,a);T&&("ul"===v||"ol"===v?(a=v,n+=1):("unordered-list-item"!==T&&"ordered-list-item"!==T&&(a="",n=-1),b?(A=s(T,h(e)),b=!1):A=u(T,n,h(e)))),A=A||l(),t=function(e,t,n){var r,a=p[e];if(a)r=n.add(a).toOrderedSet();else if(t instanceof HTMLElement){var i=t;r=(r=n).withMutations((function(e){var t=i.style.color,n=i.style.backgroundColor,r=i.style.fontSize,a=i.style.fontFamily.replace(/^"|"$/g,""),o=i.style.fontWeight,c=i.style.textDecoration,l=i.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),a&&e.add("fontfamily-".concat(a)),"bold"===o&&e.add(p.strong),"underline"===c&&e.add(p.ins),"italic"===l&&e.add(p.em)})).toOrderedSet()}return r}(v,e,t);for(var _=e.firstChild;_;){var L=x(_,t,n,a,g(_)||i,y).chunk;A=f(A,L),_=_.nextSibling}return{chunk:A}}function w(e,t){var n,o,c,l=(n=t,o=e.trim().replace(v,y),(c=i(o))?(b=!0,{chunk:x(c,new a.OrderedSet,-1,"",void 0,n).chunk}):null);if(l){var s=l.chunk,u=new a.OrderedMap({});s.entities&&s.entities.forEach((function(e){e&&(u=u.set(e,r.Entity.__get(e)))}));var d=0;return{contentBlocks:s.text.split("\r").map((function(e,t){var n=d+e.length,i=s&&s.inlines.slice(d,n),o=s&&s.entities.slice(d,n),c=new a.List(i.map((function(e,t){var n={style:e,entity:null};return o[t]&&(n.entity=o[t]),r.CharacterMetadata.create(n)})));return d=n,new r.ContentBlock({key:Object(r.genKey)(),type:s&&s.blocks[t]&&s.blocks[t].type||"unstyled",depth:s&&s.blocks[t]&&s.blocks[t].depth,data:s&&s.blocks[t]&&s.blocks[t].data||new a.Map({}),text:e,characterList:c})})),entityMap:u}}return null}}],n.c=a,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2);function n(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,a}(n(24124),n(72010))}}]);
//# sourceMappingURL=6518.e2fa207a.chunk.js.map