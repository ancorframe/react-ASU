{"version":3,"file":"static/js/7137.6278d555.chunk.js","mappings":"yVAGO,SAASA,IACd,OAAOC,EAAAA,EAAAA,GAAS,CACdC,SAAU,CAAC,cACXC,QAAQ,WAAD,wBAAE,8FAASC,EAAT,EAASA,OAAT,SACgBC,EAAAA,EAAAA,IAAA,wBAAmC,CACxDC,iBAAiB,EACjBF,OAAAA,IAHK,cACDG,EADC,yBAKAA,EAASC,MALT,2CAAF,mDAAC,GAORC,sBAAsB,EACtBC,gBAAgB,EAChBC,OAAO,GAGV,CACM,SAASC,EAAoBC,GAClC,OAAOZ,EAAAA,EAAAA,GAAS,CACdC,SAAU,CAAC,aAAcW,GACzBV,QAAQ,WAAD,wBAAE,8FAASC,EAAT,EAASA,OAAT,SACgBC,EAAAA,EAAAA,IAAA,gCAAmCQ,GAAM,CAC9DP,iBAAiB,EACjBF,OAAAA,IAHK,cACDG,EADC,yBAKAA,EAASC,MALT,2CAAF,mDAAC,GAORC,sBAAsB,EACtBC,gBAAgB,EAChBC,MAAO,GAGV,CAEM,SAASG,EAAoBD,GAClC,IAAME,GAAcC,EAAAA,EAAAA,MACpB,OAAOC,EAAAA,EAAAA,GAAY,CACjBC,WAAW,WAAD,wBAAE,WAAMC,GAAN,uFACad,EAAAA,EAAAA,IAAA,gCACIQ,GACzBM,EACA,CACEb,iBAAiB,IALX,cACJC,EADI,yBAQHA,EAASC,MARN,2CAAF,mDAAC,GAUXY,UAAW,SAAAZ,GAGTO,EAAYM,kBAAkB,CAAEnB,SAAU,CAAC,eAC5C,EACDS,OAAO,GAEV,CAEM,SAASW,IACd,IAAMP,GAAcC,EAAAA,EAAAA,MACpB,OAAOC,EAAAA,EAAAA,GAAY,CACjBC,WAAW,WAAD,wBAAE,WAAMC,GAAN,uFACad,EAAAA,EAAAA,KAAA,wBAAoCc,EAAY,CACrEb,iBAAiB,IAFT,cACJC,EADI,yBAIHA,EAASC,MAJN,2CAAF,mDAAC,GAMXY,UAAW,SAAAZ,GAITO,EAAYM,kBAAkB,CAAEnB,SAAU,CAAC,eAC5C,EACDS,OAAO,GAEV,CAEM,SAASY,EAAoBV,GAClC,IAAME,GAAcC,EAAAA,EAAAA,MACpB,OAAOC,EAAAA,EAAAA,GAAY,CACjBC,WAAW,WAAD,wBAAE,oGACab,EAAAA,EAAAA,OAAA,gCAAsCQ,GAAM,CACjEP,iBAAiB,IAFT,cACJC,EADI,yBAIHA,EAASC,MAJN,2CAAF,kDAAC,GAMXY,UAAW,SAAAZ,GAITO,EAAYM,kBAAkB,CAAEnB,SAAU,CAAC,eAC5C,EACDS,OAAO,GAEV,C,mJCzFYa,EAAmB,WAC9B,IAAQhB,GAASR,EAAAA,EAAAA,MAATQ,KAER,OACE,+BACE,UAAC,IAAD,CAAKiB,QAAQ,OAAb,WACE,UAAC,IAAD,CAAKC,GAAG,QAAQC,MAAM,QAAQC,GAAG,eAAeC,UAAU,OAA1D,UACGrB,IACC,wBACGA,EAAKsB,WAAWC,KAAI,gBAAGlB,EAAH,EAAGA,GAAIL,EAAP,EAAOA,KAAP,OACnB,SAAC,IAAD,CAAKkB,GAAG,KAAKM,EAAE,OAAf,UACE,SAAC,KAAD,CAAMC,GAAE,UAAKpB,GAAb,SAAoBL,EAAK0B,SADArB,EADR,OAOzB,SAAC,KAAD,CAAMoB,GAAE,SAAR,mCAEF,SAAC,EAAAE,SAAD,CAAUC,SAAU,KAApB,UACE,SAAC,KAAD,UAKT,C","sources":["cms/hooks/literature.js","pages/admin/Literature/LiteratureLayout.jsx"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\n\nexport function useLiterature() {\n  return useQuery({\n    queryKey: ['literature'],\n    queryFn: async ({ signal }) => {\n      const response = await axios.get(`/api/admin/literature`, {\n        withCredentials: true,\n        signal,\n      });\n      return response.data;\n    },\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n    retry: false,\n    // enabled: false, // disable this query from automatically running\n  });\n}\nexport function useLiteratureDetail(id) {\n  return useQuery({\n    queryKey: ['literature', id],\n    queryFn: async ({ signal }) => {\n      const response = await axios.get(`/api/admin/literature/${id}`, {\n        withCredentials: true,\n        signal,\n      });\n      return response.data;\n    },\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n    retry: 2,\n    // enabled: false, // disable this query from automatically running\n  });\n}\n\nexport function useUpdateLiterature(id) {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async credential => {\n      const response = await axios.put(\n        `/api/admin/literature/${id}`,\n        credential,\n        {\n          withCredentials: true,\n        }\n      );\n      return response.data;\n    },\n    onSuccess: data => {\n      //   console.log(data);\n      //  QueryClient.persistor.writeQueryData('myData', data);\n      queryClient.invalidateQueries({ queryKey: ['literature'] });\n    },\n    retry: false,\n  });\n}\n\nexport function useCreateLiterature() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async credential => {\n      const response = await axios.post(`/api/admin/literature`, credential, {\n        withCredentials: true,\n      });\n      return response.data;\n    },\n    onSuccess: data => {\n      //   console.log(data);\n      //  QueryClient.persistor.writeQueryData('myData', data);\n      // queryClient.invalidateQueries({ queryKey: ['entrants'] });\n      queryClient.invalidateQueries({ queryKey: ['literature'] });\n    },\n    retry: false,\n  });\n}\n\nexport function useDeleteLiterature(id) {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async () => {\n      const response = await axios.delete(`/api/admin/literature/${id}`, {\n        withCredentials: true,\n      });\n      return response.data;\n    },\n    onSuccess: data => {\n      //   console.log(data);\n      //  QueryClient.persistor.writeQueryData('myData', data);\n      // queryClient.invalidateQueries({ queryKey: ['entrants'] });\n      queryClient.invalidateQueries({ queryKey: ['literature'] });\n    },\n    retry: false,\n  });\n}\n","import { useLiterature } from 'cms/hooks/literature';\nimport { Box } from 'components/Box';\nimport { Suspense } from 'react';\nimport { Link, Outlet } from 'react-router-dom';\n\nexport const LiteratureLayout = () => {\n  const { data } = useLiterature();\n\n  return (\n    <>\n      <Box display=\"flex\">\n        <Box as=\"aside\" width=\"300px\" bg=\"antiquewhite\" minHeight=\"92vh\">\n          {data && (\n            <ul>\n              {data.literature.map(({ id, data }) => (\n                <Box as=\"li\" p=\"20px\" key={id}>\n                  <Link to={`${id}`}>{data.title}</Link>\n                </Box>\n              ))}\n            </ul>\n          )}\n          <Link to={`create`}>create literature</Link>\n        </Box>\n        <Suspense fullback={null}>\n          <Outlet />\n        </Suspense>\n      </Box>\n    </>\n  );\n};\n"],"names":["useLiterature","useQuery","queryKey","queryFn","signal","axios","withCredentials","response","data","refetchOnWindowFocus","refetchOnMount","retry","useLiteratureDetail","id","useUpdateLiterature","queryClient","useQueryClient","useMutation","mutationFn","credential","onSuccess","invalidateQueries","useCreateLiterature","useDeleteLiterature","LiteratureLayout","display","as","width","bg","minHeight","literature","map","p","to","title","Suspense","fullback"],"sourceRoot":""}