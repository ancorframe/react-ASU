{"version":3,"file":"static/js/9169.83e15bad.chunk.js","mappings":"oVAiBMA,EAAgB,CACpBC,OAAQ,GACRC,MAAO,GACPC,SAAU,GACVC,IAAK,CACH,CACEC,KAAM,GACNC,IAAK,GACLC,QAAS,GACTC,WAAY,KAGhBC,IAAK,CACH,CACEJ,KAAM,GACNC,IAAK,GACLC,QAAS,GACTC,WAAY,KAGhBE,IAAK,CACH,CACEL,KAAM,GACNC,IAAK,GACLC,QAAS,GACTC,WAAY,KAGhBG,IAAK,CACH,CACEN,KAAM,GACNC,IAAK,GACLC,QAAS,GACTC,WAAY,KAGhBI,IAAK,CACH,CACEP,KAAM,GACNC,IAAK,GACLC,QAAS,GACTC,WAAY,MAILK,EAAW,WACtB,IAAQC,GAAOC,EAAAA,EAAAA,MAAPD,GACFE,GAAUC,EAAAA,EAAAA,IAAQ,CACtBjB,cAAAA,EACAkB,UAAUC,EAAAA,EAAAA,GAAYC,EAAAA,KAEhBC,GAASC,EAAAA,EAAAA,IAAkBR,GAA3BO,KACFE,GAASC,EAAAA,EAAAA,IAAkBV,GAC3BW,GAASC,EAAAA,EAAAA,IAAkBZ,GAC3Ba,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACJR,GACFL,EAAQc,OAAR,UACKT,EAAKU,SAASV,MAGtB,GAAE,CAACA,EAAML,IAeV,OACE,2BACE,UAAC,IAAD,YACE,SAAC,IAAD,CAAKgB,SAAS,QAAQC,EAAE,SAASC,UAAW,UAA5C,UACE,SAAC,IAAD,CAAKC,EAAG,CAAC,KAAM,IAAKC,GAAI,CAAC,EAAG,MAAOC,GAAI,CAAC,EAAG,MAA3C,UACE,SAAC,MAAD,kBAAkBrB,GAAlB,cACE,kBACEsB,SAAUtB,EAAQuB,cApBf,SAAAlB,GACfI,EAAOF,OAAOF,EACf,IAmBamB,UAAW,SAAAC,GAAC,OAZL,SAAAA,GACL,UAAVA,EAAEC,KAAiBD,EAAEE,gBAC1B,CAU6BC,CAAaH,EAAjB,EAFd,WAIE,gCACE,uCACA,SAAC,IAAD,CAAcI,KAAK,eAErB,gCACE,sCACA,SAAC,IAAD,CAAaA,KAAK,cAEpB,gCACE,yCACA,SAAC,IAAD,CAAgBA,KAAK,iBAEvB,gCACE,oCACA,SAAC,IAAD,CAAoBA,KAAK,YAE3B,gCACE,oCACA,SAAC,IAAD,CAAoBA,KAAK,YAE3B,gCACE,oCACA,SAAC,IAAD,CAAoBA,KAAK,YAE3B,gCACE,oCACA,SAAC,IAAD,CAAoBA,KAAK,YAE3B,gCACE,oCACA,SAAC,IAAD,CAAoBA,KAAK,YAE3B,mBAAQC,KAAK,SAAb,+BAKR,mBAAQA,KAAK,SAASC,QAxDX,WACfxB,EAAOA,SACPI,EAAS,kBACV,EAqDK,iCAMP,C","sources":["pages/admin/Schedule/Schedule.jsx"],"sourcesContent":["import { SectionContent } from 'components/Templates/SectionContent/SectionContent';\nimport { FormProvider, useForm } from 'react-hook-form';\nimport { Box } from 'components/Box';\nimport { useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport {\n  useDeleteSchedule,\n  useScheduleDetail,\n  useUpdateSchedule,\n} from 'cms/hooks/schedule';\nimport { FieldArraySchedule } from 'cms/components/FieldArraySchedule';\nimport { CourseSelect } from 'components/Templates/CreatableSelects/CourseSelect';\nimport { GroupSelect } from 'components/Templates/CreatableSelects/GroupSelect';\nimport { SubgroupSelect } from 'components/Templates/CreatableSelects/SubgroupSelect';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { scheduleSchema } from 'cms/validationSchemas/scheduleSchemas';\n\nconst defaultValues = {\n  course: '',\n  group: '',\n  subgroup: '',\n  mon: [\n    {\n      time: '',\n      tag: '',\n      teacher: '',\n      discipline: '',\n    },\n  ],\n  tue: [\n    {\n      time: '',\n      tag: '',\n      teacher: '',\n      discipline: '',\n    },\n  ],\n  wed: [\n    {\n      time: '',\n      tag: '',\n      teacher: '',\n      discipline: '',\n    },\n  ],\n  thu: [\n    {\n      time: '',\n      tag: '',\n      teacher: '',\n      discipline: '',\n    },\n  ],\n  fri: [\n    {\n      time: '',\n      tag: '',\n      teacher: '',\n      discipline: '',\n    },\n  ],\n};\nexport const Schedule = () => {\n  const { id } = useParams();\n  const methods = useForm({\n    defaultValues,\n    resolver: yupResolver(scheduleSchema),\n  });\n  const { data } = useScheduleDetail(id);\n  const mutate = useDeleteSchedule(id);\n  const update = useUpdateSchedule(id);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (data) {\n      methods.reset({\n        ...data.schedule.data,\n      });\n    }\n  }, [data, methods]);\n\n  const onSubmit = data => {\n    update.mutate(data);\n  };\n\n  const onDelete = () => {\n    mutate.mutate();\n    navigate('/admin/schedule');\n  };\n\n  const checkKeyDown = e => {\n    if (e.key === 'Enter') e.preventDefault();\n  };\n\n  return (\n    <main>\n      <SectionContent>\n        <Box maxWidth=\"960px\" m=\"0 auto\" boxShadow={'regular'}>\n          <Box p={[null, 11]} px={[6, null]} py={[8, null]}>\n            <FormProvider {...methods}>\n              <form\n                onSubmit={methods.handleSubmit(onSubmit)}\n                onKeyDown={e => checkKeyDown(e)}\n              >\n                <section>\n                  <label>course</label>\n                  <CourseSelect name=\"course\" />\n                </section>\n                <section>\n                  <label>group</label>\n                  <GroupSelect name=\"group\" />\n                </section>\n                <section>\n                  <label>subgroup</label>\n                  <SubgroupSelect name=\"subgroup\" />\n                </section>\n                <section>\n                  <label>mon</label>\n                  <FieldArraySchedule name=\"mon\" />\n                </section>\n                <section>\n                  <label>tue</label>\n                  <FieldArraySchedule name=\"tue\" />\n                </section>\n                <section>\n                  <label>wed</label>\n                  <FieldArraySchedule name=\"wed\" />\n                </section>\n                <section>\n                  <label>thu</label>\n                  <FieldArraySchedule name=\"thu\" />\n                </section>\n                <section>\n                  <label>fri</label>\n                  <FieldArraySchedule name=\"fri\" />\n                </section>\n                <button type=\"submit\">submit</button>\n              </form>\n            </FormProvider>\n          </Box>\n        </Box>\n        <button type=\"button\" onClick={onDelete}>\n          Delete schedule\n        </button>\n      </SectionContent>\n    </main>\n  );\n};\n"],"names":["defaultValues","course","group","subgroup","mon","time","tag","teacher","discipline","tue","wed","thu","fri","Schedule","id","useParams","methods","useForm","resolver","yupResolver","scheduleSchema","data","useScheduleDetail","mutate","useDeleteSchedule","update","useUpdateSchedule","navigate","useNavigate","useEffect","reset","schedule","maxWidth","m","boxShadow","p","px","py","onSubmit","handleSubmit","onKeyDown","e","key","preventDefault","checkKeyDown","name","type","onClick"],"sourceRoot":""}