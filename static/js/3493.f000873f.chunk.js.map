{"version":3,"file":"static/js/3493.f000873f.chunk.js","mappings":"yVAGO,SAASA,IACd,OAAOC,EAAAA,EAAAA,GAAS,CACdC,SAAU,CAAC,iBACXC,QAAQ,WAAD,wBAAE,8FAASC,EAAT,EAASA,OAAT,SACgBC,EAAAA,EAAAA,IAAA,sBAAiC,CACtDC,iBAAiB,EACjBF,OAAAA,IAHK,cACDG,EADC,yBAKAA,EAASC,MALT,2CAAF,mDAAC,GAORC,sBAAsB,EACtBC,gBAAgB,EAChBC,OAAO,GAGV,CACM,SAASC,EAAkBC,GAChC,OAAOZ,EAAAA,EAAAA,GAAS,CACdC,SAAU,CAAC,gBAAiBW,GAC5BV,QAAQ,WAAD,wBAAE,8FAASC,EAAT,EAASA,OAAT,SACgBC,EAAAA,EAAAA,IAAA,8BAAiCQ,GAAM,CAC5DP,iBAAiB,EACjBF,OAAAA,IAHK,cACDG,EADC,yBAKAA,EAASC,MALT,2CAAF,mDAAC,GAORC,sBAAsB,EACtBC,gBAAgB,EAChBC,MAAO,GAGV,CAEM,SAASG,EAAkBD,GAChC,IAAME,GAAcC,EAAAA,EAAAA,MACpB,OAAOC,EAAAA,EAAAA,GAAY,CACjBC,WAAW,WAAD,wBAAE,WAAMC,GAAN,uFACad,EAAAA,EAAAA,IAAA,8BACEQ,GACvBM,EACA,CACEb,iBAAiB,IALX,cACJC,EADI,yBAQHA,EAASC,MARN,2CAAF,mDAAC,GAUXY,UAAW,SAAAZ,GAGTO,EAAYM,kBAAkB,CAAEnB,SAAU,CAAC,gBAAiBW,IAC7D,EACDF,OAAO,GAEV,CAEM,SAASW,IACd,IAAMP,GAAcC,EAAAA,EAAAA,MACpB,OAAOC,EAAAA,EAAAA,GAAY,CACjBC,WAAW,WAAD,wBAAE,WAAMC,GAAN,uFACad,EAAAA,EAAAA,KAAA,sBAAkCc,EAAY,CACnEb,iBAAiB,IAFT,cACJC,EADI,yBAIHA,EAASC,MAJN,2CAAF,mDAAC,GAMXY,UAAW,SAAAZ,GAITO,EAAYM,kBAAkB,CAAEnB,SAAU,CAAC,kBAC5C,EACDS,OAAO,GAEV,CAEM,SAASY,EAAkBV,GAChC,IAAME,GAAcC,EAAAA,EAAAA,MACpB,OAAOC,EAAAA,EAAAA,GAAY,CACjBC,WAAW,WAAD,wBAAE,oGACab,EAAAA,EAAAA,OAAA,8BAAoCQ,GAAM,CAC/DP,iBAAiB,IAFT,cACJC,EADI,yBAIHA,EAASC,MAJN,2CAAF,kDAAC,GAMXY,UAAW,SAAAZ,GAITO,EAAYM,kBAAkB,CAAEnB,SAAU,CAAC,kBAC5C,EACDS,OAAO,GAEV,C,kJCzFYa,EAAiB,WAC5B,IAAQhB,GAASR,EAAAA,EAAAA,MAATQ,KAER,OACE,+BACE,UAAC,IAAD,CAAKiB,QAAQ,OAAb,WACE,UAAC,IAAD,CAAKC,GAAG,QAAQC,MAAM,QAAQC,GAAG,eAAeC,UAAU,OAA1D,UACGrB,IACC,wBACGA,EAAKsB,UAAUC,KAAI,gBAAGlB,EAAH,EAAGA,GAAIL,EAAP,EAAOA,KAAP,OAClB,SAAC,IAAD,CAAKkB,GAAG,KAAKM,EAAE,OAAf,UACE,UAAC,KAAD,CAAMC,GAAE,UAAKpB,GAAb,oBACUL,EAAK0B,OAAOC,MADtB,UACoC3B,EAAK4B,MAAMD,MAD/C,aAEa3B,EAAK6B,SAASF,UAHFtB,EADT,OAUxB,SAAC,KAAD,CAAMoB,GAAE,SAAR,iCAEF,SAAC,EAAAK,SAAD,CAAUC,SAAU,KAApB,UACE,SAAC,KAAD,UAKT,C","sources":["cms/hooks/schedule.js","pages/admin/Schedule/ScheduleLayout.jsx"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport axios from 'axios';\n\nexport function useSchedule() {\n  return useQuery({\n    queryKey: ['scheduleAdmin'],\n    queryFn: async ({ signal }) => {\n      const response = await axios.get(`/api/admin/schedule`, {\n        withCredentials: true,\n        signal,\n      });\n      return response.data;\n    },\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n    retry: false,\n    // enabled: false, // disable this query from automatically running\n  });\n}\nexport function useScheduleDetail(id) {\n  return useQuery({\n    queryKey: ['scheduleAdmin', id],\n    queryFn: async ({ signal }) => {\n      const response = await axios.get(`/api/admin/schedule/${id}`, {\n        withCredentials: true,\n        signal,\n      });\n      return response.data;\n    },\n    refetchOnWindowFocus: false,\n    refetchOnMount: false,\n    retry: 2,\n    // enabled: false, // disable this query from automatically running\n  });\n}\n\nexport function useUpdateSchedule(id) {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async credential => {\n      const response = await axios.put(\n        `/api/admin/schedule/${id}`,\n        credential,\n        {\n          withCredentials: true,\n        }\n      );\n      return response.data;\n    },\n    onSuccess: data => {\n      //   console.log(data);\n      //  QueryClient.persistor.writeQueryData('myData', data);\n      queryClient.invalidateQueries({ queryKey: ['scheduleAdmin', id] });\n    },\n    retry: false,\n  });\n}\n\nexport function useCreateSchedule() {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async credential => {\n      const response = await axios.post(`/api/admin/schedule`, credential, {\n        withCredentials: true,\n      });\n      return response.data;\n    },\n    onSuccess: data => {\n      //   console.log(data);\n      //  QueryClient.persistor.writeQueryData('myData', data);\n      // queryClient.invalidateQueries({ queryKey: ['entrants'] });\n      queryClient.invalidateQueries({ queryKey: ['scheduleAdmin'] });\n    },\n    retry: false,\n  });\n}\n\nexport function useDeleteSchedule(id) {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: async () => {\n      const response = await axios.delete(`/api/admin/schedule/${id}`, {\n        withCredentials: true,\n      });\n      return response.data;\n    },\n    onSuccess: data => {\n      //   console.log(data);\n      //  QueryClient.persistor.writeQueryData('myData', data);\n      // queryClient.invalidateQueries({ queryKey: ['entrants'] });\n      queryClient.invalidateQueries({ queryKey: ['scheduleAdmin'] });\n    },\n    retry: false,\n  });\n}\n","import { useSchedule } from 'cms/hooks/schedule';\nimport { Box } from 'components/Box';\nimport { Suspense } from 'react';\nimport { Link, Outlet } from 'react-router-dom';\n\nexport const ScheduleLayout = () => {\n  const { data } = useSchedule();\n\n  return (\n    <>\n      <Box display=\"flex\">\n        <Box as=\"aside\" width=\"300px\" bg=\"antiquewhite\" minHeight=\"92vh\">\n          {data && (\n            <ul>\n              {data.schedules.map(({ id, data }) => (\n                <Box as=\"li\" p=\"20px\" key={id}>\n                  <Link to={`${id}`}>\n                    course:{data.course.label},group:{data.group.label}\n                    ,subgroup:{data.subgroup.label}\n                  </Link>\n                </Box>\n              ))}\n            </ul>\n          )}\n          <Link to={`create`}>create schedule</Link>\n        </Box>\n        <Suspense fullback={null}>\n          <Outlet />\n        </Suspense>\n      </Box>\n    </>\n  );\n};\n"],"names":["useSchedule","useQuery","queryKey","queryFn","signal","axios","withCredentials","response","data","refetchOnWindowFocus","refetchOnMount","retry","useScheduleDetail","id","useUpdateSchedule","queryClient","useQueryClient","useMutation","mutationFn","credential","onSuccess","invalidateQueries","useCreateSchedule","useDeleteSchedule","ScheduleLayout","display","as","width","bg","minHeight","schedules","map","p","to","course","label","group","subgroup","Suspense","fullback"],"sourceRoot":""}